<!DOCTYPE html>
<html>
<head>
  <title>DeepSeek QA</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap');
  </style>
</head>
<body>
  
  <h2 class="text">Ask the AI</h2>
  <p class="text"> Ask the AI anything and it will do it for you... Hopefully </p>

  <br>
  
  <div id="alltogether">
    <div id="left">
      <h3 class="text">Chat History</h3>
      <p class="text" id="history"></p>
    </div>
    <div id="middle">
      <h3 class="text">MODEL: Deepseek R5 (1.5B)</h3>
      <div id="chatbox"> 
        <div id="user"></div>
        <div id="answer"></div>
      </div>
      <br>
      <div id="askbox">
        <input id="query" placeholder="Your question" />
        <button type="button" onclick="ask()">Send</button>
      </div>
    </div>
    <div id="right"> 
      <h3 class="text"> Upload a PDF: </h3>
      <div id="ragdiv">
        <div id="dragbox" ondrop="drop(event)" ondragover="dragover(event)"> DRAG or DROP </div>
        <br>
        <div class="display">
          <button id="rag" type="button"> Submit </button>
        </div>
      </div>
      <br>
      <div id="webdiv">
        <h3 class="text"> Websearch Mode: </h3>
        <div class="display">
          <input type="checkbox" id="websearch" name="ON" checked />
        </div>
      </div>
      <br><br><br><br>
      <div id="ratediv">
        <h3 class="text"> How are you rating your experience so far? </h3>
        <div class="display">
          <input type="range" id="rating" name="rating" min="0" max="5" />
        </div>
      </div>
    </div>
  </div>

  <br>
  
  <div class="display">
    <button id="lightmode" type="button" onclick="light()">&#127764</button>
    <button id="darkmode" type="button" onclick="dark()">&#127762</button>
  </div>
  
  <p class="text"> Modelworks Â© 2025 </p>

  <script src="script.js"></script>    
  
  <script> // for set up
    // Wrap everything in a DOMContentLoaded listener
    document.addEventListener("DOMContentLoaded", function () {

      document.body.style.fontFamily = "Montserrat", "sans-serif";

      document.getElementById("alltogether").style.width = "100%"
      document.getElementById("alltogether").style.display = "flex"
      document.getElementById("alltogether").style.flexDirection = "row"
      document.getElementById("alltogether").style.justifyContent = "center"


      document.getElementById("left").style.width = "30%"
      document.getElementById("left").style.display = "inline-block"
      //document.getElementById("left").style.backgroundColor = "red" // for visualisation only

      document.getElementById("middle").style.display = "inline-block"
      //document.getElementById("middle").style.backgroundColor = "green" // for visualisation only

      document.getElementById("right").style.width = "30%"
      document.getElementById("right").style.display = "flex"
      document.getElementById("right").style.alignItems = "center"
      document.getElementById("right").style.justifyContent = "center"
      document.getElementById("right").style.flexDirection = "column"


      //document.getElementById("right").style.backgroundColor = "blue" // for visualisation only


      // display setup
      var all_display = document.getElementsByClassName("display")
      for (i = 0; i < all_display.length; i++) {
          all_display[i].style.display = "flex"
          all_display[i].style.margin = "auto"
          all_display[i].style.alignItems = "center"
          all_display[i].style.justifyContent = "center"
      }


      // chatbox setup
      document.getElementById("chatbox").style.width = "500px";
      document.getElementById("chatbox").style.height = "550px";
      document.getElementById("chatbox").style.display = "block";
      document.getElementById("chatbox").style.margin = "auto";
      document.getElementById("chatbox").style.backgroundColor = "purple"; // TODO: switch to diff colour for darkmode
      document.getElementById("chatbox").style.padding = "10px"
      document.getElementById("chatbox").style.overflow = "auto";
      document.getElementById("chatbox").style.overflowY = "scroll";
      //document.getElementById("chatbox").style.borderRadius = ".5em";


      document.getElementById("dragbox").style.width = "400px"
      document.getElementById("dragbox").style.height = "150px";
      document.getElementById("dragbox").style.display = "block"
      document.getElementById("dragbox").style.margin = "auto"
      document.getElementById("dragbox").style.backgroundColor = "grey"


      document.getElementById("answer").style.textAlign = "left";
      document.getElementById("answer").style.float = "left";
      document.getElementById("answer").style.background = "purple"; // TODO: switch to bg colour for darkmode
      document.getElementById("answer").style.borderRadius = ".5em";
      document.getElementById("answer").style.width = "50%";
      document.getElementById("answer").style.padding = "1%";
      document.getElementById("answer").style.margin = "1%";

      document.getElementById("user").innerHTML = ""
      document.getElementById("user").style.textAlign = "right";
      document.getElementById("user").style.float = "right";
      document.getElementById("user").style.background = "purple"; // TODO: switch to bg colour for darkmode
      document.getElementById("user").style.borderRadius = ".5em";
      document.getElementById("user").style.width = "50%";
      document.getElementById("user").style.padding = "1%";
      document.getElementById("user").style.margin = "1%";

      // askbox setup
      document.getElementById("askbox").style.width = "500px"
      document.getElementById("askbox").style.height = "50px"
      document.getElementById("askbox").style.display = "flex"
      document.getElementById("askbox").style.margin = "auto"
      document.getElementById("askbox").style.justifyContent = "center"
      document.getElementById("query").style.width = "90%"

      // text setup
      var all_text = document.getElementsByClassName("text")
      for (i = 0; i < all_text.length; i++) {
          all_text[i].style.color = 'black';
        all_text[i].style.textAlign = 'center';
      }

    });

  </script>
  
</body>
</html>
